# 产品需求文档 (PRD): "MotiPet" 虚拟宠物应用

| **文档版本** | **V1.0** |
| :--- | :--- |
| **更新日期** | 2025年9月17日 |
| **作者** | MovingHUI |
| **项目代号** | Project: MotiPet |

## 1. 项目概述 (Overview)

### 1.1. 项目目标与愿景
本项目旨在开发一款创新的虚拟宠物应用——"MotiPet"。其核心目标是通过"AI到工匠"(AI to Craftsman)的工作流程，结合心理学框架（行为主义、认知心理学、积极心理学），为用户提供一个有趣、互动且具有成长性的虚拟宠物体验。

### 1.2. 目标用户
* **主要用户**：喜欢虚拟宠物游戏的iOS和Apple Watch用户
* **用户特征**：寻求轻松娱乐、希望体验宠物养成乐趣但无法养真实宠物的用户
* **次要用户**：对像素艺术和怀旧游戏感兴趣的用户

### 1.3. 项目范围
* **V1.0 范围内 (In-Scope)**:
    * iOS App：实现SwiftUI + SpriteKit混合架构的虚拟宠物界面
    * watchOS App：提供简化的宠物状态显示和快捷交互
    * 核心功能：宠物动画系统、经验升级系统、装饰品系统
    * 像素艺术风格的宠物精灵和动画

* **V1.0 范围外 (Out-of-Scope)**:
    * 多宠物系统
    * 云端同步功能
    * 社交分享功能
    * 复杂的游戏机制

---

## 2. 功能需求 (Features)

### 2.1. iOS 应用 (MotiPet for iOS)

**功能点 1：宠物动画系统**
* **用户故事**: 作为用户，我希望看到生动的宠物动画，包括待机、开心、疲劳等不同状态。
* **需求描述**:
    * 支持基于Aseprite JSON格式的精灵动画
    * 实现待机动画循环播放
    * 支持触摸互动触发开心动画
    * 动画帧率流畅，像素艺术风格保持

**功能点 2：经验与升级系统**
* **用户故事**: 作为用户，我希望我的宠物能够成长，通过获得经验来升级。
* **需求描述**:
    * 经验值系统，支持模拟数据输入
    * 升级时播放庆祝动画
    * 显示当前等级和经验进度条
    * 升级后宠物外观或能力有所变化

**功能点 3：装饰品系统**
* **用户故事**: 作为用户，我希望能够为我的宠物添加装饰品，让它更加个性化。
* **需求描述**:
    * 支持墨镜等装饰品的穿戴/脱下
    * 装饰品正确定位在宠物相应部位
    * 装饰品随宠物动画同步移动
    * 支持未来扩展更多装饰品类型

### 2.2. watchOS 应用 (MotiPet for Apple Watch)

**功能点 1：简化宠物显示**
* **用户故事**: 作为用户，我希望在手表上也能快速查看我的宠物状态。
* **需求描述**:
    * 显示宠物静态图像
    * 显示当前等级和健康状态
    * 提供简单的交互按钮
    * 响应式设计适配不同手表尺寸

---

## 3. 技术与架构规格 (Technical & Architectural Specifications)

### 3.1. 平台 (Platform)
* iOS 17.0+
* watchOS 10.0+

### 3.2. 开发语言与框架 (Development Language & Frameworks)
* **开发语言**: Swift
* **UI框架**: SwiftUI + SpriteKit 混合架构
* **核心框架**: SpriteKit (动画), SwiftUI (界面)

### 3.3. 架构设计
* **SwiftUI + SpriteKit 混合架构**：
    * SwiftUI负责整体界面布局和控制
    * SpriteKit负责宠物动画渲染和交互
    * MVVM模式管理状态和数据流

### 3.4. 资源格式
* **精灵图集**: PNG格式的sprite sheet
* **动画数据**: Aseprite JSON格式
* **像素艺术**: 保持像素完美的渲染

---

## 4. 当前进度 (Current Progress)

### 4.1. 已完成功能
- [x] SwiftUI + SpriteKit混合架构设计
- [x] 宠物基础动画系统（待机、开心动画）
- [x] 经验升级系统（模拟数据）
- [x] 装饰品系统（墨镜）
- [x] watchOS应用基础界面
- [x] 像素艺术资源集成

### 4.2. 技术实现亮点
* 成功实现SwiftUI与SpriteKit的无缝集成
* 动态sprite缩放，支持全屏显示
* 基于JSON数据的动画帧解析
* 响应式设计，适配不同设备尺寸
* 像素艺术渲染优化（nearest filtering）

### 4.3. 当前状态
**尚未完成** - 这是项目的第一个里程碑版本，基础架构和核心功能已实现，但仍需要进一步完善和优化。

---

## 5. 未来规划 (Future Plans)

### 5.1. 短期目标 (V1.1)
* 完善动画系统，添加更多动作
* 优化用户界面和交互体验
* 添加音效和反馈
* 增加更多装饰品选项

### 5.2. 长期目标 (V2.0+)
* 实现真实数据集成（心率、活动数据）
* 添加多宠物支持
* 实现云端同步
* 添加社交功能

---

## 6. 结论

MotiPet项目当前已完成基础架构和核心功能的实现，展示了SwiftUI + SpriteKit混合架构的可行性。虽然**尚未完成**最终产品形态，但已建立了坚实的技术基础，为后续开发奠定了良好基础。

项目采用现代化的iOS开发技术栈，结合像素艺术风格，为用户提供独特的虚拟宠物体验。